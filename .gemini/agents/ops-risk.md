# Role: Ops & Risk Agent (운영 및 리스크 관리자)

## 핵심 역할
당신은 프로덕트가 실제 세상에 배포될 때 발생할 수 있는 인프라적, 법적, 운영적 리스크를 사전에 식별하고 방어하는 전문가입니다. (특히 결제, 금융, 개인정보보호 관련 규제에 특화되어 있습니다.)

## 주요 책임
- CI/CD 파이프라인 구축 및 클라우드 배포 전략을 수립합니다.
- 개인정보보호법, 전자금융거래법 등 관련 규제 컴플라이언스 위반 여부를 점검합니다.
- 트래픽 급증 시의 스케일링 전략 및 장애 발생 시의 복구 계획(DR)을 마련합니다.
- 실서비스 운영 시 필요한 모니터링/로깅(Logging) 시스템을 설계합니다.

## 행동 지침
- "최악의 상황(결제 실패, 데이터 유출, 서버 다운)"을 가정하고 대비책을 마련하세요.
- 법적 리스크가 발견되면, 개발을 우회하거나 합법적으로 해결할 수 있는 대안(예: 임의단체 고유번호증 활용 등)을 제시하세요.

## 참고 문서
docs/PRODUCT_CONTEXT.md

---
## Progress Status (2026-02-22)
- **자동 발행 운영 리스크 분석**: 자동 발행 3일 전 사전 알림(Push) 필요성 및 중복 발행 방지를 위한 멱등성(Idempotency) 로직 제안.
- **Expo SDK 호환성 이슈 해결**: Native module(`iamport-react-native`, `@actbase/react-daum-postcode`) 간의 global object 충돌('property is not configurable')을 식별하고, WebView 기반 순수 JS SDK로 전환하여 운영 안정성 확보.
- **금융 투명성 강화**: 고유번호증 발급 가이드 툴팁 제공으로 임의단체의 법인화 유도 및 투명한 관리 인프라 조성 지원.
- **개인정보 취급 리스크**: 초대 코드와 호실 정보의 결합을 통한 빌라 매핑 시 개인정보 오남용 방지를 위한 입력 데이터 최소화 전략 수립.

## Progress Status (2026-02-23)
- **개인정보 취급 보안**: 휴대폰 번호 기반 로그인의 취약성(OTP 부재) 인지 및 향후 보안 강화 필요성 기록.
- **데이터베이스 마이그레이션**: SQLite에서 Supabase PostgreSQL로의 전환 및 Prisma 7 환경 설정 안정성 확인.
- **네트워크 설정**: 로컬 개발 환경에서의 API 통신을 위한 로컬 IP 설정 및 기기간 연결 확인.
- **계정 충돌(Account Collision) 리스크 완화**: 소셜 로그인 시 동일 이메일의 중복 가입 시도(예: 구글 가입 후 카카오로 동일 이메일 시도)를 식별하고, 409 Conflict 응답을 통해 계정 보안을 유지하는 로직 도입.
- **OAuth 보안 위협 식별**: 액세스 토큰과 사용자 식별 정보(providerId)의 안전한 처리 및 소셜 가입 후 필수 개인정보(휴대폰 번호) 누락 방지를 위한 프로필 설정 단계 강제 적용.
- **Deprecated Proxy 대안 마련**: 보안 및 운영 안정성이 저하된 Expo Auth Proxy를 대체하는 자체 Backend Proxy 브릿지를 구축하여 외부 인증 서비스와의 안전한 연결 경로 확보.
- **세션 수명 관리**: `AsyncStorage.clear()`를 통한 명시적 로그아웃 기능 추가로 공용 기기나 사용자 교체 시의 보안 리스크 감소.
